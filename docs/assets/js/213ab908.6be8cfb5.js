"use strict";(self.webpackChunkme_3=self.webpackChunkme_3||[]).push([[146],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||d[m]||i;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=m;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2619:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={position:4,title:"API Specifications"},l=void 0,o={unversionedId:"api-specifications",id:"api-specifications",title:"API Specifications",description:"Me3 constructor",source:"@site/docs/api-specifications.md",sourceDirName:".",slug:"/api-specifications",permalink:"/me3keysmith-documentation/api-specifications",draft:!1,editUrl:"https://github.com/AvartaDev/Me3Keysmith/tree/blob/main/documentation/docs/api-specifications.md",tags:[],version:"current",frontMatter:{position:4,title:"API Specifications"},sidebar:"mainSidebar",previous:{title:"Quick Start Guide",permalink:"/me3keysmith-documentation/quick-start-guide"}},s={},c=[{value:"Me3 constructor",id:"me3-constructor",level:2},{value:"Parameters",id:"parameters",level:3},{value:"<code>getAuthLink(redirectUrl)</code>",id:"getauthlinkredirecturl",level:2},{value:"Parameters",id:"parameters-1",level:3},{value:"Returns",id:"returns",level:3},{value:"<code>getAuthToken(code, state, sessionState)</code>",id:"getauthtokencode-state-sessionstate",level:2},{value:"Parameters",id:"parameters-2",level:3},{value:"Returns",id:"returns-1",level:3},{value:"<code>getWallets()</code>",id:"getwallets",level:2},{value:"Parameters",id:"parameters-3",level:3},{value:"Returns",id:"returns-2",level:3},{value:"<code>signTx(wallet, tx)</code>",id:"signtxwallet-tx",level:2},{value:"Parameters",id:"parameters-4",level:3},{value:"Returns",id:"returns-3",level:3}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"me3-constructor"},"Me3 constructor"),(0,r.kt)("p",null,"The main class handling all of Keysmith functionalities"),(0,r.kt)("h3",{id:"parameters"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"config"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Me3Config"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"interface ME3Config {\n  endpoint: string;\n  partnerId: string;\n  redirect_url: string;\n}\n")),(0,r.kt)("h2",{id:"getauthlinkredirecturl"},(0,r.kt)("inlineCode",{parentName:"h2"},"getAuthLink(redirectUrl)")),(0,r.kt)("p",null,"This method generates Google SSO url to enable the user go perform Google SSO with Me3 to initiate the onboarding process"),(0,r.kt)("h3",{id:"parameters-1"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"redirectUrl"),": string"),(0,r.kt)("p",{parentName:"li"},"The URL to redirect the user upon successful completion of Google SSO"))),(0,r.kt)("h3",{id:"returns"},"Returns"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"string"),(0,r.kt)("p",{parentName:"li"},"The URL you should redirect your user to perform Google SSO with Me3"))),(0,r.kt)("h2",{id:"getauthtokencode-state-sessionstate"},(0,r.kt)("inlineCode",{parentName:"h2"},"getAuthToken(code, state, sessionState)")),(0,r.kt)("p",null,"This method authenticated your app's Me3 instance against Me3 servers using OAuth2. The parameters required for this method are usually appended to the redirectUrl when the user successfully completes Google SSO."),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"You must call this method prior to performing wallet retrievals or transaction signing")),(0,r.kt)("h3",{id:"parameters-2"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"code"),": string"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"state"),": string"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"sessionState"),": string")),(0,r.kt)("h3",{id:"returns-1"},"Returns"),(0,r.kt)("p",null,"None"),(0,r.kt)("h2",{id:"getwallets"},(0,r.kt)("inlineCode",{parentName:"h2"},"getWallets()")),(0,r.kt)("p",null,"This method checks if the Google signed-on user has an existing Me3 recovery key in their Google Drive. If it does not have one, it undergoes the Wallet Generation process. After which, it computes the decryption of the encrypted wallets in the DApp, and returns the wallets."),(0,r.kt)("h3",{id:"parameters-3"},"Parameters"),(0,r.kt)("p",null,"None"),(0,r.kt)("h3",{id:"returns-2"},"Returns"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"Wallet[]")),(0,r.kt)("p",{parentName:"li"},"List of user's ",(0,r.kt)("inlineCode",{parentName:"p"},"Wallet")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Example Value"',title:'"Example','Value"':!0},'const wallets: Wallet[] = [\n  {\n    chainName: "eth",\n    walletName: "ethereum-1",\n    walletAddress: "0xb8272B0eAe5B5Ea681AcB33401b33A2c2D6db351",\n    secret:\n      "0x1da6847600b0ee25e9ad9a52abbd786dd2502fa4005dd5af9310b7cc7a3b25db",\n  },\n  {\n    chainName: "Polygon",\n    walletName: "3rd_Polygon",\n    walletAddress: "0xb8272B0eAe5B5Ea681AcB33401b33A2c2D6db351",\n    secret:\n      "0x1da6847600b0ee25e9ad9a52abbd786dd2502fa4005dd5af9310b7cc7a3b25db",\n  },\n];\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Model"',title:'"Model"'},"interface Wallet {\n  chainName: string;\n  walletName: string;\n  walletAddress: string;\n  secret: string;\n}\n")),(0,r.kt)("h2",{id:"signtxwallet-tx"},(0,r.kt)("inlineCode",{parentName:"h2"},"signTx(wallet, tx)")),(0,r.kt)("p",null,"This method computes a signed EVM transaction payload for broadcast into EVM blockchains, based on the existing Me3 session and desired transaction parameters."),(0,r.kt)("h3",{id:"parameters-4"},"Parameters"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"wallet"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Wallet")," interface"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"tx"),": ",(0,r.kt)("inlineCode",{parentName:"li"},"Object"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Objects follow the typical web3.eth pattern of transaction objects. Please refer to ",(0,r.kt)("a",{parentName:"li",href:"https://web3js.readthedocs.io/en/v1.2.11/web3-eth.html#eth-sendtransaction"},"https://web3js.readthedocs.io/en/v1.2.11/web3-eth.html#eth-sendtransaction")," for a detailed view into forming such transaction objects.")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="Model"',title:'"Model"'},"interface Wallet {\n  chainName: string;\n  walletName: string;\n  walletAddress: string;\n  secret: string;\n}\n")),(0,r.kt)("h3",{id:"returns-3"},"Returns"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"string"),(0,r.kt)("p",{parentName:"li"},"The string output is a transaction hash that is ready for broadcast to compatible chains."))))}d.isMDXComponent=!0}}]);